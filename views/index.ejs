<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Message Board</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 800px;
      margin: 40px auto;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    header {
      background: #007bff;
      color: #fff;
      padding: 20px;
      text-align: center;
    }
    .nav {
      text-align: center;
      margin: 20px 0;
    }
    .nav a {
      display: inline-block;
      padding: 10px 20px;
      background: #28a745;
      color: #fff;
      text-decoration: none;
      border-radius: 4px;
    }
    .nav a:hover {
      background: #218838;
    }
    .messages {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .message {
      border-bottom: 1px solid #eee;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }
    .message:last-child {
      border-bottom: none;
    }
    .message .meta {
      font-size: 0.9em;
      color: #555;
      margin-bottom: 8px;
    }
    .message .meta .user {
      font-weight: bold;
      color: #333;
    }
    .message .text {
      font-size: 1.1em;
      line-height: 1.4;
      color: #222;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Message Board</h1>
    </header>

    <!-- New Message button moved to top -->
    <div class="nav">
      <a href="/new-message">New Message</a>
    </div>

    <ul class="messages">
      <% if (messages.length) { %>
        <% messages.forEach((msg, i) => { %>
          <li class="message">
            <div class="meta">
              <span class="user"><%= msg.username %></span> Â· 
              <span class="time"><%= msg.created_at.toLocaleString("en-US", {
                day: "2-digit", month: "2-digit", year: "numeric",
                hour: "2-digit", minute: "2-digit"
              }) %></span>
            </div>
            <div class="text"><%= msg.message %></div>
            <div class="actions">
                <a href="/messages/<%= i %>">Open</a>
              </div>
          </li>
        <% }); %>
      <% } else { %>
        <li class="message"><div class="text">No messages yet.</div></li>
      <% } %>
    </ul>
  </div>
</body>
</html>
